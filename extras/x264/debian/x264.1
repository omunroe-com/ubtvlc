.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
.TH X264 "1" "March 2007" "x264" "User Commands"
.SH NAME
x264 \- H.264 encoder
.SH SYNOPSIS
\fBx264 [options] \-o outfile infile [widthxheight]
.SH DESCRIPTION
x264 encodes a video stream using the H.264 codec.
.PP
Infile can be raw YUV 4:2:0 (in which case resolution is required) or
YUV4MPEG 4:2:0 (*.y4m).
.PP
Outfile type is selected by filename: \fB.264\fR (raw bytestream) or
\fB.mkv\fR (Matroska).
.SH OPTIONS
.TP
\fB\-h\fR, \fB\-\-help\fR
List the more commonly used options
.TP
\fB\-\-longhelp\fR
List all options
.PP
Frame\-type options:
.TP
\fB\-I\fR, \fB\-\-keyint\fR <integer>
Maximum GOP size [250]
.TP
\fB\-i\fR, \fB\-\-min\-keyint\fR <integer>
Minimum GOP size [25]
.TP
\fB\-\-scenecut\fR <integer>
How aggressively to insert extra I\-frames [40]
.TP
\fB\-\-pre\-scenecut\fR
Faster, less precise scenecut detection.
Required and implied by multi\-threading.
.TP
\fB\-b\fR, \fB\-\-bframes\fR <integer>
Number of B\-frames between I and P [0]
.TP
\fB\-\-no\-b\-adapt\fR
Disable adaptive B\-frame decision
.TP
\fB\-\-b\-bias\fR <integer>
Influences how often B\-frames are used [0]
.TP
\fB\-\-b\-pyramid\fR
Keep some B\-frames as references
.TP
\fB\-\-no\-cabac\fR
Disable CABAC
.TP
\fB\-r\fR, \fB\-\-ref\fR <integer>
Number of reference frames [1]
.TP
\fB\-\-no\-deblock\fR
Disable loop filter
.TP
\fB\-f\fR, \fB\-\-deblock\fR <alpha:beta>
Loop filter AlphaC0 and Beta parameters [0:0]
.TP
\fB\-\-interlaced\fR
Enable pure\-interlaced mode
.PP
Ratecontrol:
.TP
\fB\-q\fR, \fB\-\-qp\fR <integer>
Set QP (0=lossless) [26]
.TP
\fB\-B\fR, \fB\-\-bitrate\fR <integer>
Set bitrate (kbit/s)
.TP
\fB\-\-crf\fR <float>
Quality\-based VBR (nominal QP)
.HP
\fB\-\-vbv\-maxrate\fR <integer> Max local bitrate (kbit/s) [0]
.HP
\fB\-\-vbv\-bufsize\fR <integer> Enable CBR and set size of the VBV buffer (kbit) [0]
.TP
\fB\-\-vbv\-init\fR <float>
Initial VBV buffer occupancy [0.9]
.TP
\fB\-\-qpmin\fR <integer>
Set min QP [10]
.TP
\fB\-\-qpmax\fR <integer>
Set max QP [51]
.TP
\fB\-\-qpstep\fR <integer>
Set max QP step [4]
.TP
\fB\-\-ratetol\fR <float>
Allowed variance of average bitrate [1.0]
.TP
\fB\-\-ipratio\fR <float>
QP factor between I and P [1.40]
.TP
\fB\-\-pbratio\fR <float>
QP factor between P and B [1.30]
.TP
\fB\-\-chroma\-qp\-offset\fR <integer>
QP difference between chroma and luma [0]
.TP
\fB\-p\fR, \fB\-\-pass\fR <1|2|3>
Enable multipass ratecontrol
\- 1: First pass, creates stats file
\- 2: Last pass, does not overwrite stats file
\- 3: Nth pass, overwrites stats file
.TP
\fB\-\-stats\fR <string>
Filename for 2 pass stats ["x264_2pass.log"]
.TP
\fB\-\-rceq\fR <string>
Ratecontrol equation ["blurCplx^(1\-qComp)"]
.TP
\fB\-\-qcomp\fR <float>
QP curve compression: 0.0 => CBR, 1.0 => CQP [0.60]
.TP
\fB\-\-cplxblur\fR <float>
Reduce fluctuations in QP (before curve compression) [20.0]
.TP
\fB\-\-qblur\fR <float>
Reduce fluctuations in QP (after curve compression) [0.5]
.TP
\fB\-\-zones\fR <zone0>/<zone1>/...
Tweak the bitrate of some regions of the video
Each zone is of the form
.IP
<start frame>,<end frame>,<option>
where <option> is either
.IP
q=<integer> (force QP)
.TP
or
b=<float> (bitrate multiplier)
.TP
\fB\-\-qpfile\fR <string>
Force frametypes and QPs
.PP
Analysis:
.TP
\fB\-A\fR, \fB\-\-partitions\fR <string>
Partitions to consider ["p8x8,b8x8,i8x8,i4x4"]
\- p8x8, p4x4, b8x8, i8x8, i4x4
\- none, all
(p4x4 requires p8x8. i8x8 requires \fB\-\-8x8dct\fR.)
.TP
\fB\-\-direct\fR <string>
Direct MV prediction mode ["spatial"]
\- none, spatial, temporal, auto
.TP
\fB\-\-direct\-8x8\fR <\-1|0|1>
Direct prediction size [\-1]
\-  0: 4x4
\-  1: 8x8
\- \fB\-1\fR: smallest possible according to level
.TP
\fB\-w\fR, \fB\-\-weightb\fR
Weighted prediction for B\-frames
.TP
\fB\-\-me\fR <string>
Integer pixel motion estimation method ["hex"]
\- dia: diamond search, radius 1 (fast)
\- hex: hexagonal search, radius 2
\- umh: uneven multi\-hexagon search
\- esa: exhaustive search (slow)
.TP
\fB\-\-merange\fR <integer>
Maximum motion vector search range [16]
.TP
\fB\-\-mvrange\fR <integer>
Maximum motion vector length [\-1 (auto)]
.TP
\fB\-\-mvrange\-thread\fR <int>
Minimum buffer between threads [\-1 (auto)]
.TP
\fB\-m\fR, \fB\-\-subme\fR <integer>
Subpixel motion estimation and partition
decision quality: 1=fast, 7=best. [5]
.TP
\fB\-\-b\-rdo\fR
RD based mode decision for B\-frames. Requires subme 6.
.TP
\fB\-\-mixed\-refs\fR
Decide references on a per partition basis
.TP
\fB\-\-no\-chroma\-me\fR
Ignore chroma in motion estimation
.TP
\fB\-\-bime\fR
Jointly optimize both MVs in B\-frames
.TP
\fB\-8\fR, \fB\-\-8x8dct\fR
Adaptive spatial transform size
.TP
\fB\-t\fR, \fB\-\-trellis\fR <integer>
Trellis RD quantization. Requires CABAC. [0]
\- 0: disabled
\- 1: enabled only on the final encode of a MB
\- 2: enabled on all mode decisions
.TP
\fB\-\-no\-fast\-pskip\fR
Disables early SKIP detection on P\-frames
.TP
\fB\-\-no\-dct\-decimate\fR
Disables coefficient thresholding on P\-frames
.TP
\fB\-\-nr\fR <integer>
Noise reduction [0]
.TP
\fB\-\-deadzone\-inter\fR <int>
Set the size of the inter luma quantization deadzone [21]
.TP
\fB\-\-deadzone\-intra\fR <int>
Set the size of the intra luma quantization deadzone [11]
Deadzones should be in the range 0 \- 32.
.TP
\fB\-\-cqm\fR <string>
Preset quant matrices ["flat"]
\- jvt, flat
.TP
\fB\-\-cqmfile\fR <string>
Read custom quant matrices from a JM\-compatible file
Overrides any other \fB\-\-cqm\fR* options.
.TP
\fB\-\-cqm4\fR <list>
Set all 4x4 quant matrices
Takes a comma\-separated list of 16 integers.
.TP
\fB\-\-cqm8\fR <list>
Set all 8x8 quant matrices
Takes a comma\-separated list of 64 integers.
.TP
\fB\-\-cqm4i\fR, \fB\-\-cqm4p\fR, \fB\-\-cqm8i\fR, \fB\-\-cqm8p\fR
Set both luma and chroma quant matrices
.TP
\fB\-\-cqm4iy\fR, \fB\-\-cqm4ic\fR, \fB\-\-cqm4py\fR, \fB\-\-cqm4pc\fR
Set individual quant matrices
.PP
Video Usability Info (Annex E):
The VUI settings are not used by the encoder but are merely suggestions to
the playback equipment. See doc/vui.txt for details. Use at your own risk.
.TP
\fB\-\-overscan\fR <string>
Specify crop overscan setting ["undef"]
\- undef, show, crop
.TP
\fB\-\-videoformat\fR <string>
Specify video format ["undef"]
\- component, pal, ntsc, secam, mac, undef
.TP
\fB\-\-fullrange\fR <string>
Specify full range samples setting ["off"]
\- off, on
.TP
\fB\-\-colorprim\fR <string>
Specify color primaries ["undef"]
\- undef, bt709, bt470m, bt470bg
.IP
smpte170m, smpte240m, film
.TP
\fB\-\-transfer\fR <string>
Specify transfer characteristics ["undef"]
\- undef, bt709, bt470m, bt470bg, linear,
.IP
log100, log316, smpte170m, smpte240m
.TP
\fB\-\-colormatrix\fR <string>
Specify color matrix setting ["undef"]
\- undef, bt709, fcc, bt470bg
.IP
smpte170m, smpte240m, GBR, YCgCo
.TP
\fB\-\-chromaloc\fR <integer>
Specify chroma sample location (0 to 5) [0]
.PP
Input/Output:
.TP
\fB\-o\fR, \fB\-\-output\fR
Specify output file
.TP
\fB\-\-sar\fR width:height
Specify Sample Aspect Ratio
.TP
\fB\-\-fps\fR <float|rational>
Specify framerate
.TP
\fB\-\-seek\fR <integer>
First frame to encode
.TP
\fB\-\-frames\fR <integer>
Maximum number of frames to encode
.TP
\fB\-\-level\fR <string>
Specify level (as defined by Annex A)
.TP
\fB\-v\fR, \fB\-\-verbose\fR
Print stats for each frame
.TP
\fB\-\-progress\fR
Show a progress indicator while encoding
.TP
\fB\-\-quiet\fR
Quiet Mode
.TP
\fB\-\-no\-psnr\fR
Disable PSNR computation
.TP
\fB\-\-no\-ssim\fR
Disable SSIM computation
.TP
\fB\-\-threads\fR <integer>
Parallel encoding
.TP
\fB\-\-thread\-input\fR
Run Avisynth in its own thread
.TP
\fB\-\-non\-deterministic\fR
Slightly improve quality of SMP, at the cost of repeatability
.TP
\fB\-\-no\-asm\fR
Disable all CPU optimizations
.TP
\fB\-\-visualize\fR
Show MB types overlayed on the encoded video
.TP
\fB\-\-sps\-id\fR <integer>
Set SPS and PPS id numbers [0]
.TP
\fB\-\-aud\fR
Use access unit delimiters
.SH "SEE ALSO"
.B ffmpeg(1)
.SH AUTHORS
x264 was written by Laurent Aimar <fenrir@via.ecp.fr> et al.
.PP
This manual page was written by Sam Hocevar <sam@zoy.org> for the Debian
project (but may be used by others).
