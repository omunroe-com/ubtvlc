diff -aur vlc-0.8.6.h.orig/modules/demux/avi/avi.c vlc-0.8.6.h/modules/demux/avi/avi.c
--- vlc-0.8.6.h.orig/modules/demux/avi/avi.c	2008-05-25 18:28:57.000000000 +0000
+++ vlc-0.8.6.h/modules/demux/avi/avi.c	2011-04-05 20:43:12.000000000 +0000
@@ -399,7 +399,10 @@
                 fmt.audio.i_bitspersample   = p_auds->p_wf->wBitsPerSample;
                 fmt.i_extra = __MIN( p_auds->p_wf->cbSize,
                     p_auds->i_chunk_size - sizeof(WAVEFORMATEX) );
-                fmt.p_extra = &p_auds->p_wf[1];
+                fmt.p_extra = malloc( fmt.i_extra );
+                if( !fmt.p_extra ) goto error;
+                memcpy( fmt.p_extra, &p_vids->p_bih[1], fmt.i_extra );
+
                 msg_Dbg( p_demux, "stream[%d] audio(0x%x) %d channels %dHz %dbits",
                          i, p_auds->p_wf->wFormatTag, p_auds->p_wf->nChannels,
                          p_auds->p_wf->nSamplesPerSec, p_auds->p_wf->wBitsPerSample);
Only in vlc-0.8.6.h/modules/demux/avi: avi.c~
