From 4b1c65d5da017d807efea415fb3ab069945da75d Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?R=C3=A9mi=20Denis-Courmont?= <remi@remlab.net>
Date: Sun, 4 Dec 2016 14:36:29 +0200
Subject: [PATCH] VLSub: don't pretend to support HTTP 1.1
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

(cherry picked from commit 5c26ad66d4b3b1d3de13ae778161f9ddde25cd59)
Signed-off-by: Felix Paul KÃ¼hne <fkuehne@videolan.org>
---
 share/lua/extensions/VLSub.lua | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/share/lua/extensions/VLSub.lua b/share/lua/extensions/VLSub.lua
index ecac0030ac..cd6f7b770d 100644
--- a/share/lua/extensions/VLSub.lua
+++ b/share/lua/extensions/VLSub.lua
@@ -1189,7 +1189,7 @@ openSub = {
     local request = "<?xml version='1.0'?>"..dump_xml(reqTable)
     local host, path = parse_url(openSub.conf.url)		
     local header = {
-      "POST "..path.." HTTP/1.1", 
+      "POST "..path.." HTTP/1.0", 
       "Host: "..host, 
       "User-Agent: "..openSub.conf.userAgentHTTP, 
       "Content-Type: text/xml", 
@@ -1840,7 +1840,7 @@ end
 function get(url)
   local host, path = parse_url(url)
   local header = {
-    "GET "..path.." HTTP/1.1", 
+    "GET "..path.." HTTP/1.0", 
     "Host: "..host, 
     "User-Agent: "..openSub.conf.userAgentHTTP,
     "",
-- 
2.11.0

