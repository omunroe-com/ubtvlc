From 59491dcedffbf97612d2c572943b56ee4289dd07 Mon Sep 17 00:00:00 2001
From: Steve Lhomme <slhomme@matroska.org>
Date: Sat, 29 Jan 2011 14:27:43 +0100
Subject: [PATCH] the ID could be OK but the class mismatching
MIME-Version: 1.0
Content-Type: text/plain; charset=utf8
Content-Transfer-Encoding: 8bit

Signed-off-by: RÃ©mi Denis-Courmont <remi@remlab.net>
---
 modules/demux/mkv/mkv.hpp |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/modules/demux/mkv/mkv.hpp vlc-0.8.6.h/modules/demux/mkv/mkv.hpp
index f0e87c6..664cafa 100644
--- a/modules/demux/mkv/mkv.hpp
+++ vlc-0.8.6.h/modules/demux/mkv.cpp
@@ -115,7 +115,7 @@ extern "C" {
 
 #define MKVD_TIMECODESCALE 1000000
 
-#define MKV_IS_ID( el, C ) ( EbmlId( (*el) ) == C::ClassInfos.GlobalId )
+#define MKV_IS_ID( el, C ) ( el != NULL && typeid( *el ) == typeid( C ) )
 
 
 using namespace LIBMATROSKA_NAMESPACE;
-- 
1.7.2.5

